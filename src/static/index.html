<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mergington High School Activities</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="cyberpunk-bg">
      <div class="cyberpunk-line"></div>
      <div class="cyberpunk-line"></div>
      <div class="cyberpunk-line"></div>
      <div class="cyberpunk-line"></div>
      <div class="cyberpunk-line"></div>
      <div class="cyberpunk-line"></div>
    </div>

    <header style="position:relative;height:140px;">
      <div id="header-particles" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:auto;z-index:0;"></div>
      <h1 style="position:relative;z-index:1;">Mergington High School</h1>
      <h2 style="position:relative;z-index:1;">Extracurricular Activities</h2>
    </header>

    <main>
      <section id="activities-container">
        <h3>Available Activities</h3>
        <div id="activities-list">
          <!-- Activities will be loaded here -->
          <p>Loading activities...</p>
        </div>
      </section>

      <section id="signup-container">
        <h3>Sign Up for an Activity</h3>
        <form id="signup-form">
          <div class="form-group">
            <label for="email">Student Email:</label>
            <input type="email" id="email" required placeholder="your-email@mergington.edu" />
          </div>
          <div class="form-group">
            <label for="activity">Select Activity:</label>
            <select id="activity" required>
              <option value="">-- Select an activity --</option>
              <!-- Activity options will be loaded here -->
            </select>
          </div>
          <button type="submit">Sign Up</button>
        </form>
        <br>
        <div id="message" class="hidden"></div>
      </section>
    </main>

    <footer>
      <p>&copy; 2023 Mergington High School</p>
    </footer>

  <audio id="bg-music" src="song.ogg" autoplay loop>
    Your browser does not support the audio element.
  </audio>
  <button id="music-toggle" style="position:fixed;bottom:20px;right:20px;z-index:10;">‚ñ∂Ô∏è</button>
  <button id="volume-toggle" style="position:fixed;bottom:20px;left:20px;z-index:10;">üîà</button>
  <input id="volume-slider" type="range" min="0" max="1" step="0.01" value="5">

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="app.js"></script>
    <script>
      // Play/pause toggle
      const music = document.getElementById('bg-music');
      const toggleBtn = document.getElementById('music-toggle');
      const volumeBtn = document.getElementById('volume-toggle');
      const volumeSlider = document.getElementById('volume-slider');

      toggleBtn.onclick = () => {
        if (music.paused) {
          music.play();
          toggleBtn.textContent = '‚è∏Ô∏è';
        } else {
          music.pause();
          toggleBtn.textContent = '‚ñ∂Ô∏è';
        }
      };
      // Set initial button state
      music.onplay = () => { toggleBtn.textContent = '‚è∏Ô∏è'; };
      music.onpause = () => { toggleBtn.textContent = '‚ñ∂Ô∏è'; };

      // Volume mute/unmute toggle
      volumeBtn.onclick = () => {
        music.muted = !music.muted;
        volumeBtn.textContent = music.muted ? 'üîá' : 'üîà';
      };
      // Set initial volume button state
      music.onvolumechange = () => {
        volumeBtn.textContent = music.muted ? 'üîá' : 'üîà';
        if (!music.muted) volumeSlider.value = 1 - music.volume;
      };

      // Volume slider control (vertical, inverted mapping)
      volumeSlider.oninput = (e) => {
        music.volume = 1 - parseFloat(e.target.value);
        music.muted = false;
        volumeBtn.textContent = 'üîà';
      };

      // Enhanced cyberpunk particles using particles.js
      particlesJS("header-particles", {
        "particles": {
          "number": {
            "value": 600,
            "density": { "enable": true, "value_area": 800 }
          },
          "color": {
            "value": ["#00fff7", "#ffe600", "#39ff14", "#fff", "#fff700", "#bfff00"]
          },
          "shape": { "type": "circle" },
          "opacity": { "value": 0.95, "random": true },
          "size": { "value": 4, "random": true },
          "line_linked": {
            "enable": true,
            "distance": 80,
            "color": "#00fff7",
            "opacity": 0.7,
            "width": 1.5
          },
          "move": {
            "enable": true,
            "speed": 1.2,
            "direction": "none",
            "random": true,
            "straight": false,
            "out_mode": "out",
            "bounce": false
          }
        },
        "interactivity": {
          "detect_on": "window", // Use "window" for best mouse detection
          "events": {
            "onhover": { "enable": true, "mode": "grab" },
            "onclick": { "enable": true, "mode": "repulse" }
          },
          "modes": {
            "grab": {
              "distance": 140,
              "line_linked": { "opacity": 1 }
            },
            "repulse": {
              "distance": 180,
              "duration": 0.6
            }
          }
        },
        "retina_detect": true
      });
    </script>
  </body>
</html>
      });
    </script>
  </body>
</html>
          updateParticles();
          drawParticles();
          requestAnimationFrame(animateParticles);
        }

        animateParticles();
      }
    </script>
  </body>
</html>
